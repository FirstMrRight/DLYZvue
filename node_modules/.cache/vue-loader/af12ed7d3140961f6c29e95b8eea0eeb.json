{"remainingRequest":"G:\\vuehr\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\vuehr\\src\\views\\sys\\basic\\JobLevelMana.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\vuehr\\src\\views\\sys\\basic\\JobLevelMana.vue","mtime":1588081528626},{"path":"G:\\vuehr\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\vuehr\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\vuehr\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\vuehr\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {getRequest} from \"@/utils/api\";\r\nimport {postRequest} from \"@/utils/api\";\r\nimport {deleteRequest} from \"@/utils/api\";\r\nimport {putRequest} from \"@/utils/api\";\r\nexport default {\r\n        name: \"JobLevelMana\",\r\n        data() {\r\n            return {\r\n                jl:{\r\n                    name:'',\r\n                    titleLevel:'',\r\n                },\r\n                jls:[\r\n\r\n                ],\r\n                titleLevel: [\r\n                    '初级',\r\n                    '中级',\r\n                    '高级',\r\n                    '总监'\r\n                ]\r\n            }\r\n        },\r\n    mounted() {\r\n        this.initJls()\r\n    },\r\n        methods: {\r\n            initJls() {\r\n                getRequest(\"/system/basic/joblevel/\").then(resp => {\r\n                    if (resp){\r\n                        this.jls = resp;\r\n                        this.jl = {\r\n                            name : '',\r\n                            titleLevel : ''\r\n                        }\r\n                    }\r\n                })\r\n            },\r\n            addJobLevel() {\r\n                //判断用户输入\r\n                if (this.jl.name && this.jl.titleLevel) {\r\n                    postRequest(\"/system/basic/joblevel/\",this.jl).then(resp => {\r\n                        if (resp) {\r\n                            this.initJls()\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.$message.error({\r\n                        type: 'error',\r\n                        message: '添加字段不可以为空'\r\n                    })\r\n                }\r\n            },\r\n            deleteLevel(data) {\r\n                this.$confirm('此操作将永久删除【' + data.name + '】条记录, 是否继续?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    deleteRequest(\"/system/basic/joblevel/\"+data.id).then(resp => {\r\n                        this.initJls()\r\n                    })\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type : 'info',\r\n                        message : '已取消删除'\r\n                    })\r\n                })\r\n            }\r\n        }\r\n    }\r\n",{"version":3,"sources":["JobLevelMana.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"JobLevelMana.vue","sourceRoot":"src/views/sys/basic","sourcesContent":["<template>\r\n    <div>\r\n        <div>\r\n            <el-input size = \"small\" v-model=\"jl.name\" style=\"width: 300px;\" prefix-icon=\"el-icon-plus\"\r\n                      placeholder=\"添加职称\"></el-input>\r\n            <el-select v-model=\"jl.titleLevel\" placeholder=\"职称等级\" size=\"small\" style=\"margin-left: 5px\">\r\n                <el-option\r\n                        v-for=\"item in titleLevel\"\r\n                        :key=\"item\"\r\n                        :label=\"item\"\r\n                        :value=\"item\">\r\n                </el-option>\r\n            </el-select>\r\n            <el-button icon=\"el-icon-type-plus\" type=\"primary\" style=\"margin-left: 5px\" size=\"small\" @click=\"addJobLevel\">添加</el-button>\r\n        </div>\r\n        <div>\r\n            <el-table\r\n                    :data=\"jls\"\r\n                    border\r\n                    v-loading=\"loading\"\r\n                    element-loading-text=\"正在加载...\"\r\n                    element-loading-spinner=\"el-icon-loading\"\r\n                    element-loading-background=\"rgba(0, 0, 0, 0.8)\"\r\n                    size=\"small\"\r\n                    @selection-change=\"handleSelectionChange\"\r\n                    style=\"width: 80%\">\r\n                <el-table-column\r\n                        type=\"selection\"\r\n                        width=\"55\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"id\"\r\n                        label=\"编号\"\r\n                        width=\"55\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"name\"\r\n                        label=\"职称名称\"\r\n                        width=\"150\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"titleLevel\"\r\n                        label=\"职称级别\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"createDate\"\r\n                        label=\"创建时间\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        label=\"是否启用\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-tag type=\"success\" v-if=\"scope.row.enabled\">已启用</el-tag>\r\n                        <el-tag type=\"danger\" v-else>未启用</el-tag>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        label=\"操作\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button size=\"small\" @click=\"showEditView(scope.row)\">编辑</el-button>\r\n                        <el-button size=\"small\" type=\"danger\" @click=\"deleteLevel(scope.row)\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {getRequest} from \"@/utils/api\";\r\nimport {postRequest} from \"@/utils/api\";\r\nimport {deleteRequest} from \"@/utils/api\";\r\nimport {putRequest} from \"@/utils/api\";\r\nexport default {\r\n        name: \"JobLevelMana\",\r\n        data() {\r\n            return {\r\n                jl:{\r\n                    name:'',\r\n                    titleLevel:'',\r\n                },\r\n                jls:[\r\n\r\n                ],\r\n                titleLevel: [\r\n                    '初级',\r\n                    '中级',\r\n                    '高级',\r\n                    '总监'\r\n                ]\r\n            }\r\n        },\r\n    mounted() {\r\n        this.initJls()\r\n    },\r\n        methods: {\r\n            initJls() {\r\n                getRequest(\"/system/basic/joblevel/\").then(resp => {\r\n                    if (resp){\r\n                        this.jls = resp;\r\n                        this.jl = {\r\n                            name : '',\r\n                            titleLevel : ''\r\n                        }\r\n                    }\r\n                })\r\n            },\r\n            addJobLevel() {\r\n                //判断用户输入\r\n                if (this.jl.name && this.jl.titleLevel) {\r\n                    postRequest(\"/system/basic/joblevel/\",this.jl).then(resp => {\r\n                        if (resp) {\r\n                            this.initJls()\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.$message.error({\r\n                        type: 'error',\r\n                        message: '添加字段不可以为空'\r\n                    })\r\n                }\r\n            },\r\n            deleteLevel(data) {\r\n                this.$confirm('此操作将永久删除【' + data.name + '】条记录, 是否继续?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    deleteRequest(\"/system/basic/joblevel/\"+data.id).then(resp => {\r\n                        this.initJls()\r\n                    })\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type : 'info',\r\n                        message : '已取消删除'\r\n                    })\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}